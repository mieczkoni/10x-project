# Product Requirements Document (PRD) - 10x-cards

## 1. Product Overview

10x-cards is a web application that streamlines the creation and review of spaced-repetition flashcards by leveraging AI to generate high-quality cards from pasted text. The MVP focuses on a generation-first onboarding flow where users paste source text, generate flashcards via an LLM, review/edit the generated cards, and save them to their personal deck for scheduled reviews using an existing spaced-repetition implementation. The initial launch supports English only and basic email/password authentication.

Goals
- Reduce friction and time required to create effective flashcards.
- Encourage adoption of spaced repetition by making card creation fast and high-quality.
- Measure AI usefulness via an acceptance KPI.

Primary audience
- Individual learners, students, and professionals who study with flashcards and want faster creation workflows.

Constraints
- No custom spaced-repetition algorithm development (use existing implementation).
- No multi-format import, no sharing between users, no mobile apps in MVP.
- GDPR: immediate permanent deletion of account and associated cards on user request.

## 2. User Problem

Manual creation of high-quality flashcards is slow and tedious. This friction discourages learners from using evidence-based spaced-repetition study techniques. Users need a fast, reliable way to convert raw content (lectures, articles, notes) into reviewable flashcards and then practice them with a proven review schedule.

Key pain points
- Time spent extracting facts and forming good question/answer pairs.
- Difficulty maintaining a steady review cadence because card creation is slow.
- Concerns about incorrect or hallucinated AI output and lack of control to correct it before saving.

## 3. Functional Requirements

FR-001 AI generation from pasted text
- The system accepts a block of pasted source text and returns a set of candidate flashcards generated by an LLM.
- The UI must show the original source text, generated cards, and metadata about the generation (timestamp, model/tag placeholder).
- Provide per-card controls to accept (save), accept after editing, edit, or delete a generated card before saving.

FR-002 Manual card creation
- Allow users to create single flashcards manually with the required fields: front (prompt), back (answer), optional tags, optional deck selection.

FR-003 Decks and card management
- Allow users to create decks, view deck contents, search and filter cards by tag/text, edit cards, and delete cards.

FR-004 Simple user accounts
- Support sign-up, login, logout using email/password; password reset flow required.
- No email verification required for MVP.

FR-005 Integration with spaced-repetition algorithm
- Use an existing SRS implementation (e.g., SM-2 or similar) to schedule reviews for saved cards.
- Cards must store or be associated with minimal review metadata required by the chosen implementation (due date, interval, repetitions, efactor).

FR-006 Instrumentation and analytics
- Track events required to compute AI acceptance KPI: `generated_view`, `accepted_without_edit`, `accepted_after_edit`, `edited`, `deleted`.
- Track additional events: `signup`, `login`, `generate_request`, `generate_error`, `review_session_start`, `review_answer`.

FR-007 GDPR deletion endpoint and UX
- Implement immediate, irreversible deletion of user account and all user data (cards, decks) on explicit user request through settings.
- Provide clear confirmation UI before deletion and block deletion rollback.

FR-008 Error handling and timeouts
- Provide feedback for model failures, generation timeouts, and input size limits. Allow retry or async fallback if generation fails.

FR-009 Rate limits and quotas (MVP, conservative)
- Implement per-user rate limiting for generation requests to protect costs and LLM usage; surface informative messages when limits are hit.

Non-functional requirements
- English-only UI and generation output for MVP.
- Reasonable generation latency target (TBD) with progress / spinner UX.
- Passwords stored securely (hashed). No email verification, but implement password reset and login throttling.

## 4. Product Boundaries

Included in MVP
- AI generation from pasted text and a full accept/edit/save workflow.
- Manual card creation and standard CRUD operations on cards and decks.
- Simple email/password authentication with password reset.
- Integration with a ready-made SRS implementation for review scheduling.
- Event instrumentation for AI acceptance KPI.
- Immediate permanent user data deletion on request (no backup).

Excluded from MVP
- Building a custom advanced spaced-repetition algorithm.
- Importing files other than copy-paste text (no PDF, DOCX, etc.).
- Sharing decks or collaborative editing between users.
- Integrations with third-party learning platforms.
- Native mobile applications.
- Email verification during sign-up.
- Backups or soft-deletes (data permanently removed on deletion).

Operational constraints and risks
- No backups and immediate permanent deletion increases risk of unrecoverable accidental loss.
- LLM selection, cost limits, and precise SLOs are deferred and must be resolved prior to production-scale rollout.
- Logging/telemetry retention policy must be clarified to ensure GDPR adherence (logs may still persist in operational systems depending on infra).

## 5. User Stories

All user stories below are testable by following the acceptance criteria steps.

- US-001
  - Title: Sign up with email and password
  - Description: A new user can create an account using email and password.
  - Acceptance Criteria:
    - User navigates to sign-up page and submits a valid email and password.
    - System creates a new user record and redirects user to onboarding (generate-first flow).
    - Event `signup` is emitted with user id.

- US-002
  - Title: Log in with email and password
  - Description: Registered users can log in using their email and password.
  - Acceptance Criteria:
    - Valid credentials allow login and redirect to the dashboard.
    - Invalid credentials return an informative error without revealing which field is incorrect.
    - Event `login` is emitted on successful login.

- US-003
  - Title: Password reset
  - Description: A user who forgets their password can request a reset and set a new password.
  - Acceptance Criteria:
    - User requests a reset via email; system sends an email with reset link (or token).
    - Following the reset link allows user to set a new password and login.
    - Token reuse or expiry are handled securely.

- US-004
  - Title: Paste text and request AI generation (Generate-first)
  - Description: A user pastes source text and requests card generation.
  - Acceptance Criteria:
    - UI accepts pasted text and a Generate button is enabled.
    - On Generate, system enqueues or calls LLM and shows generation progress.
    - On success, UI displays generated cards and emits `generated_view`.
    - On failure, UI shows a clear error and suggests retry.

- US-005
  - Title: Review generated cards
  - Description: User can review each generated card, see the source text, and accept or reject each card.
  - Acceptance Criteria:
    - Each generated card shows front, back, and an Edit button.
    - User can click Accept (save as-is), Edit then Save, or Delete for each card.
    - Accepting without edits triggers `accepted_without_edit`.
    - Accepting after edit triggers `accepted_after_edit` and `edited`.

- US-006
  - Title: Edit generated card inline
  - Description: The user edits a generated card before saving.
  - Acceptance Criteria:
    - Edit opens an inline editor pre-filled with front/back.
    - Saving the edit persists the updated card to the deck and emits `edited` and `accepted_after_edit` when saved.
    - Edited content is stored and visible on subsequent views.

- US-007
  - Title: Manual card creation
  - Description: User creates single cards manually with required fields and optional tags/deck selection.
  - Acceptance Criteria:
    - User can create a card from a "New card" form; submitted card appears in chosen deck.
    - Manual-created cards are saved with `ai_generated_flag=false`.

- US-008
  - Title: Create and manage decks
  - Description: User creates decks, renames them, and selects a deck when saving cards.
  - Acceptance Criteria:
    - User can create, rename, and delete decks.
    - Cards saved during generation or manual creation can be assigned to a deck.

- US-009
  - Title: Browse, search, and filter cards
  - Description: User can browse decks, search card text, and filter by tags.
  - Acceptance Criteria:
    - Search returns matching cards with highlighted terms.
    - Filters by tag narrow results accordingly.

- US-010
  - Title: Start a review session
  - Description: User starts a review session for a deck and reviews scheduled cards per integrated SRS.
  - Acceptance Criteria:
    - Review session shows the next due card and allows the user to rate/mark recall result.
    - The chosen SRS updates the card's review metadata.
    - Events `review_session_start` and `review_answer` are emitted.

- US-011
  - Title: View generation metadata
  - Description: User can view metadata about a generation (timestamp, model placeholder, source snippet).
  - Acceptance Criteria:
    - Each generation shows metadata alongside generated cards.
    - Metadata persists with the card as generation metadata if the card is saved.

- US-012
  - Title: Report hallucination / incorrect card
  - Description: User can flag a card as hallucinated or incorrect for later review and logging.
  - Acceptance Criteria:
    - A "Report" control allows the user to tag a card as "hallucination" and submit optional notes.
    - The action emits an event stored in telemetry for later model analysis.

- US-013
  - Title: Handle generation timeouts and errors
  - Description: If AI generation times out or fails, the user is shown an error and can retry or request async processing.
  - Acceptance Criteria:
    - Timeouts show a retry option and a friendly error message.
    - If async fallback is available, user is offered to be notified when results are ready (email or in-app notification).

- US-014
  - Title: Enforce generation rate limits
  - Description: The system prevents abusive usage by enforcing per-user generation limits and communicates when limits are reached.
  - Acceptance Criteria:
    - Exceeding rate limit returns a clear error and guidance about when next allowed.
    - Event `generate_error` is emitted with rate-limit reason.

- US-015
  - Title: Delete a single card
  - Description: User deletes an individual card from a deck.
  - Acceptance Criteria:
    - Delete action requires confirmation and permanently removes card.
    - Event `deleted` is emitted.

- US-016
  - Title: Permanent account deletion (GDPR)
  - Description: User requests immediate permanent deletion of account and all associated data.
  - Acceptance Criteria:
    - Settings page provides a deletion button with strong confirmation modal describing irreversibility.
    - After user confirms, system permanently deletes account, all cards, decks, and personal metadata with no backups.
    - User is logged out and cannot access data; event `account_deleted` is emitted.

- US-017
  - Title: Export data before deletion (optional flow)
  - Description: User may request an export of their cards as JSON/CSV before deletion.
  - Acceptance Criteria:
    - Export can be initiated from settings; system prepares a downloadable file of all user's cards and decks.
    - Export completes or returns an error; export is available for a short time for download.
    - If user proceeds to deletion, exported file is not retained by the system beyond the transient download.

- US-018
  - Title: Prevent unauthenticated access to personal data
  - Description: API and UI prevent access to another user's decks and cards when not authenticated or when using another user's credentials.
  - Acceptance Criteria:
    - API returns 401/403 when requests lack valid authentication or attempt to access other user's resources.
    - UI hides management controls from unauthenticated users.

- US-019
  - Title: Password hashing and login throttling (security)
  - Description: System stores passwords hashed with secure algorithm and enforces login throttling to mitigate brute force attacks.
  - Acceptance Criteria:
    - Passwords stored in DB are hashed; plaintext passwords are never stored or logged.
    - After N failed login attempts, further attempts are delayed/blocked for a cooldown period.

- US-020
  - Title: Large input handling
  - Description: If the pasted text exceeds acceptable size, user is informed and guided to shorten input or split into parts.
  - Acceptance Criteria:
    - System validates input size and shows an informative message if too large.
    - Generation does not proceed with oversized input.

- US-021
  - Title: Duplicate card detection (helpful warning)
  - Description: When a generated or manual card duplicates an existing card in the same deck, system warns the user.
  - Acceptance Criteria:
    - If high similarity is detected against existing deck cards, UI shows a non-blocking warning indicating potential duplicate.
    - User can still save or discard the duplicate card.

## 6. Success Metrics

Primary KPIs
- AI acceptance rate: percentage of AI-generated cards accepted by users.
  - Definition: acceptance = (accepted_without_edit + accepted_after_edit) / generated_view
  - Target: 75% acceptance for MVP.

- AI adoption for creation: proportion of all created cards that originated from AI generation.
  - Target: 75% of all created cards are made using AI.

Secondary metrics
- Generation volume per user (avg and distribution).
- Edit rate: fraction of accepted cards that were edited before saving.
- Review completion rate: fraction of scheduled review sessions completed.
- Retention: DAU/WAU and user retention at 7/30/90 days.
- Time to first saved card: time between sign-up and first saved card.

Instrumentation events (minimum)
- `generated_view`, `accepted_without_edit`, `accepted_after_edit`, `edited`, `deleted`, `signup`, `login`, `generate_request`, `generate_error`, `review_session_start`, `review_answer`, `account_deleted`, `report_hallucination`.

Reporting and dashboards
- Provide a simple dashboard that shows AI acceptance rate, number of generations, edits per acceptance, and active users. Exact visualization tooling is TBD.

Data retention and GDPR notes
- For MVP, the system must support immediate permanent deletion of users and their cards. This implies no backups for user data; operational logs and telemetry retention need separate policy decisions to remain GDPR-compliant.

Checklist validation
- Each user story includes clear acceptance criteria that are testable via UI flows and API responses.
- Authentication and authorization requirements are included (US-001, US-002, US-018, US-019, US-016).
- The set of user stories covers happy paths, alternative flows (errors, timeouts, rate limits), and edge cases (large input, duplicates).

End of document.


